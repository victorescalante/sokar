(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{474:function(e,t,r){var content=r(476);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("8183a152",content,!0,{sourceMap:!1})},475:function(e,t,r){"use strict";var o=r(474);r.n(o).a},476:function(e,t,r){(t=r(18)(!1)).push([e.i,".custom-card-table{padding-bottom:50px}.custom-card-table .title{border-radius:5px}.custom-card-table.purple .title{background:#fff}.custom-card-table.yellow .title{background:#e5e500;color:#000}.custom-card-table.orange .title{background:#ff4500;color:#fff}.custom-card-table.green .title{background:#33b105;color:#fff}.custom-card-table.purple .title{background:#9103b1;color:#fff}.custom-card-table .title{background:#0767c6;padding:15px;color:#fff;font-weight:700}.custom-card-table .actions{text-align:right;padding:10px 15px}.custom-card-table .content{padding:15px}.custom-paginator{padding:25px}",""]),e.exports=t},477:function(e,t,r){"use strict";var o={name:"TableGeneral",props:["title","color"]},n=(r(475),r(10)),component=Object(n.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:" custom-card-table "+this.color},[t("div",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),this._t("default")],2)}),[],!1,null,null,null);t.a=component.exports},495:function(e,t,r){var content=r(526);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("46bb78e5",content,!0,{sourceMap:!1})},525:function(e,t,r){"use strict";var o=r(495);r.n(o).a},526:function(e,t,r){(t=r(18)(!1)).push([e.i,".el-select{width:100%}.custom-buttons{padding:15px;text-align:right}",""]),e.exports=t},553:function(e,t,r){"use strict";r.r(t);r(20);var o=r(3),n={layout:"dashboard",middleware:["auth"],transition:{name:"default",mode:"out-in"},components:{TableGeneral:r(477).a},head:function(){return{title:"Creación de Refacciones"}},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getProducts();case 2:return t.next=4,e.getCategories();case 4:return t.next=6,e.getRepair();case 6:case"end":return t.stop()}}),t)})))()},methods:{getRepair:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("//api.diken.mx/api/repairs/"+e.$route.params.id);case 2:r=t.sent,e.form=r.data.repair;case 4:case"end":return t.stop()}}),t)})))()},getProducts:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("//api.diken.mx/api/products?limit=200");case 2:data=t.sent,e.products=data.data.rows;case 4:case"end":return t.stop()}}),t)})))()},getCategories:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("//api.diken.mx/api/repairs/categories");case 2:data=t.sent,e.categories=data.data.categories;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$axios.put("//api.diken.mx/api/repairs/"+t.$route.params.id,t.form).then((function(e){t.$notify({title:"Correcto",message:"La refacción fue actualizada correctamente",type:"success"})})).catch((function(e){t.$notify.error({title:"Error",message:"La refacción no pudo ser actualizada correctamente"})}))}))}},data:function(){return{products:[],categories:[],form:{features:"",quantity:1,code:"",category_repair_parts_id:"",product_repair_parts_id:"",name:"",number_diken:0},rules:{features:[{required:!0,message:"Agrega caracteristicas",trigger:"blur"}],quantity:[{required:!0,message:"Agrega cantidad",trigger:"blur"}],code:[{required:!0,message:"Agrega codigo",trigger:"blur"}],category_repair_parts_id:[{required:!0,message:"Agrega una categoría",trigger:"blur"}],product_repair_parts_id:[{required:!0,message:"Agrega un producto",trigger:"blur"}],name:[{required:!0,message:"Agrega un nombre",trigger:"blur"}]}}}},c=(r(525),r(10)),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("TableGeneral",{attrs:{title:"Refacciones",color:"purple"}},[r("el-row",[r("el-col",{staticStyle:{padding:"15px"},attrs:{md:24}},[r("el-card",[r("el-row",[r("el-col",{attrs:{md:24}},[r("h3",[e._v("Registro")]),e._v(" "),r("br"),e._v(" "),r("hr")]),e._v(" "),r("el-col",{attrs:{md:24}},[r("div",{staticClass:"content-space"},[r("p",[e._v("Información de registro")])])]),e._v(" "),r("el-form",{ref:"formService",staticClass:"form-style-curds",attrs:{rules:e.rules,model:e.form}},[r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"Nombre de la refacción",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"Código",prop:"code"}},[r("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"Cantidad de piezas",prop:"quantity"}},[r("el-input-number",{attrs:{size:"mini",min:1},model:{value:e.form.quantity,callback:function(t){e.$set(e.form,"quantity",t)},expression:"form.quantity"}})],1)],1)],1),e._v(" "),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"Tipo de producto",prop:"name"}},[r("el-select",{attrs:{placeholder:"Selecciona un tipo de producto"},model:{value:e.form.product_repair_parts_id,callback:function(t){e.$set(e.form,"product_repair_parts_id",t)},expression:"form.product_repair_parts_id"}},e._l(e.products,(function(e){return r("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"Categoría",prop:"name"}},[r("el-select",{attrs:{placeholder:"Selecciona una categoría"},model:{value:e.form.category_repair_parts_id,callback:function(t){e.$set(e.form,"category_repair_parts_id",t)},expression:"form.category_repair_parts_id"}},e._l(e.categories,(function(e){return r("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{md:24}},[r("el-form-item",{attrs:{label:"Caracteristicas de la refacción"}},[r("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.features,callback:function(t){e.$set(e.form,"features",t)},expression:"form.features"}})],1)],1),e._v(" "),r("el-col",{staticClass:"custom-buttons",attrs:{md:24}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.submitForm("formService")}}},[e._v("Actualizar Refacción")])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);